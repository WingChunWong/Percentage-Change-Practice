<!-- index.html -->
<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- ç¢ºä¿éŸ¿æ‡‰å¼é¡¯ç¤º -->
    <title>ç™¾åˆ†æ¯”ç·´ç¿’ä½œæ¥­</title>
    <meta name="title-zh" content="ç™¾åˆ†æ¯”è½‰è®Šç·´ç¿’">
    <meta name="title-en" content="Percentage Change Practice">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- èªè¨€åˆ‡æ›æŒ‰éˆ• -->
    <div class="lang-switch">
        <button id="btn-lang" class="lang-btn">
            <span class="zh">EN</span>
            <span class="en">ä¸­</span>
        </button>
    </div>

    <h1>
        <span class="zh">ç™¾åˆ†æ¯”è®ŠåŒ–ç·´ç¿’</span>
        <span class="en">Percentage Change</span>
    </h1>

    <!-- ç‹€æ…‹åˆ—ï¼šé¡¯ç¤ºç›®æ¨™ã€åˆ†æ•¸å’Œæ­£ç¢ºé¡Œæ•¸ -->
    <div class="status-bar">
        <div class="status-item goal-text">
            <span class="zh">ç›®æ¨™: 150</span>
            <span class="en">Target: 150</span>
        </div>
        <div class="status-item">
            <span class="zh">åˆ†æ•¸: </span>
            <span class="en">Score: </span>
            <span id="scoreVal" class="score-text">0</span>
        </div>
        <div class="status-item">
            <span class="zh">æ­£ç¢º: </span>
            <span class="en">Correct: </span>
            <span id="correctVal">0</span>
        </div>
    </div>

    <!-- é€²åº¦æ¢ï¼šé¡¯ç¤ºé”æˆç›®æ¨™çš„é€²åº¦ -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
    </div>

    <!-- éŠæˆ²ä¸»å€åŸŸ -->
    <div class="canvas-container">
        <canvas id="gameCanvas" width="850" height="250"></canvas> <!-- é¡Œç›®ç¹ªè£½å€åŸŸ -->

        <!-- ç­”æ¡ˆè¼¸å…¥å€ -->
        <div class="input-group">
            <label style="font-weight:bold; font-size:1.2em;">
                <span class="zh">ç­”æ¡ˆ:</span>
                <span class="en">Answer:</span>
            </label>
            <input type="number" id="userAnswer" data-placeholder-zh="è¼¸å…¥ç­”æ¡ˆ" data-placeholder-en="Enter answer"
                step="any">
            <!-- ç”¨æˆ¶ç­”æ¡ˆè¼¸å…¥æ¡† -->
            <button class="btn-submit" onclick="checkAnswer()">
                <span class="zh">æäº¤</span>
                <span class="en">Submit</span>
            </button>
            <button id="showAnswerBtn" class="btn-show-answer" onclick="showAnswer()" style="display: none;">
                <span class="zh">é¡¯ç¤ºç­”æ¡ˆ</span>
                <span class="en">Show Answer</span>
            </button>
        </div>

        <!-- åé¥‹è³‡è¨Šé¡¯ç¤ºå€ -->
        <div class="feedback" id="feedbackArea"></div>
    </div>

    <!-- æˆç¸¾å–®æŒ‰éˆ• -->
    <button class="btn-report" onclick="showReport()">
        <span class="zh">ğŸ“Š æˆç¸¾å–®</span>
        <span class="en">ğŸ“Š Report Card</span>
    </button>
    <!-- é‡ç½®é€²åº¦æŒ‰éˆ• -->
    <button class="btn-reset" id="btnReset" onclick="handleReset()">
        <span class="zh">âš ï¸ é‡ç½®æ‰€æœ‰é€²åº¦</span>
        <span class="en">âš ï¸ Reset All Progress</span>
    </button>

    <!-- å ±å‘Šè¦–çª— (æ¨¡æ…‹æ¡†) -->
    <div class="modal-overlay" id="reportModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeReport()">Ã—</button>
            <h2>
                <span class="zh">æˆç¸¾å–®</span>
                <span class="en">Report Card</span>
            </h2>
            <p style="color:gray; font-size:0.9em;">
                <span class="zh">è«‹æˆªåœ–æ­¤é é¢æäº¤</span>
                <span class="en">Please screenshot this for submission</span>
            </p>
            <hr style="border:0; border-top:2px solid #333; margin:15px 0;">

            <!-- çµ±è¨ˆæ•¸æ“šç¶²æ ¼ -->
            <div class="stats-grid">
                <div class="stat-box">
                    <small>
                        <span class="zh">æœ€çµ‚åˆ†æ•¸</span>
                        <span class="en">Final Score</span>
                    </small><br>
                    <strong style="font-size:1.4em; color:blue;" id="repScore">0</strong>
                </div>
                <div class="stat-box">
                    <small>
                        <span class="zh">ç¸½é¡Œæ•¸</span>
                        <span class="en">Attempts</span>
                    </small><br>
                    <strong id="repTotal">0</strong>
                </div>
                <div class="stat-box">
                    <small>
                        <span class="zh">æ­£ç¢ºé¡Œæ•¸</span>
                        <span class="en">Correct</span>
                    </small><br>
                    <strong style="color:green;" id="repCorrect">0</strong>
                </div>
                <div class="stat-box">
                    <small>
                        <span class="zh">æ­£ç¢ºç‡</span>
                        <span class="en">Accuracy</span>
                    </small><br>
                    <strong id="repAcc">0%</strong>
                </div>
            </div>
            <p style="font-size:0.8em; color:#aaa;" id="repTime"></p> <!-- é¡¯ç¤ºç•¶å‰æ™‚é–“ -->
            <button class="btn-submit" onclick="closeReport()">
                <span class="zh">ç¹¼çºŒç·´ç¿’</span>
                <span class="en">Continue</span>
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>